# Определение перспективного тарифа для телеком компании

## Цель и основные шаги работы

**Цель работы**: провести анализ тарифов «Смарт» и «Ультра» компании «Мегалайн» на небольшой выборке клиентов и сделать вывод какой тариф лучше.

**Основные шаги работы**:
1. Ознакомиться с данными, содержащимися в файлах users.csv, calls.csv, messages.csv, internet.csv, tariffs.csv;
1. Найти и обработать аномальные данные, выбросы, дубликаты;
1. Изменить тип данных для столбцов;
1. Добавить необходимые данные для дальнейшего анализа в новый DataFrame;
1. Рассчитать помесячную выручку с каждого пользователя;
1. Проанализировать (построить гистрогарммы, посчитать среднее значение, медиану, дисперсию, стандартное отклонение) следующие данные для тарифов "smart" и "ultra":
    * Количество израсходаванных минут в месяц пользователями;
    * Количество израсходаванного интернет-трафика в месяц пользователями;
    * Количество отправленных сообщений в месяц пользователями;
    * Ежемесячные траты пользователей на услуги связи;
    * Годовую и ежемесячную прибыль для компании.
1. Проверить следующие гипотезы:
    * Средняя выручка пользователей тарифов «Ультра» и «Смарт» различается;
    * Средняя выручка пользователей из Москвы отличается от выручки пользователей из других регионов.
1. Написать общий вывод к работе и высказать свои рекомендации.

## Описание данных
Информация о пользователях:
 * уникальный идентификатор пользователя
 * имя пользователя
 * фамилия пользователя
 * возраст пользователя (годы)
 * дата подключения тарифа (день, месяц, год)
 * дата прекращения пользования тарифом (если значение пропущено, то тариф ещё действовал на момент выгрузки данных)
 * город проживания пользователя
 * название тарифного плана
 
Информация о звонках:
 * уникальный номер звонка
 * дата звонка
 * длительность звонка в минутах
 * идентификатор пользователя, сделавшего звонок
 
Информация о сообщениях:
 * уникальный номер сообщения
 * дата сообщения
 * идентификатор пользователя, отправившего сообщение
 
Информация об интернет-сессиях:
 * уникальный номер сессии
 * объём потраченного за сессию интернет-трафика (в мегабайтах)
 * дата интернет-сессии
 * идентификатор пользователя
 
Информация о тарифах:
 * название тарифа
 * ежемесячная абонентская плата в рублях
 * количество минут разговора в месяц, включённых в абонентскую плату
 * количество сообщений в месяц, включённых в абонентскую плату
 * объём интернет-трафика, включённого в абонентскую плату (в мегабайтах)
 * стоимость минуты разговора сверх тарифного пакета (например, если в тарифе 100 минут разговора в месяц, то со 101 минуты будет взиматься плата)
 * стоимость отправки сообщения сверх тарифного пакета
 * стоимость дополнительного гигабайта интернет-трафика сверх тарифного пакета (1 гигабайт = 1024 мегабайта)
 
## Использумый стек
Python, pandas, numpy, matplotlib, scipy

## Вывод
Целью данного проекта было провести анализ тарифов «Смарт» и «Ультра» компании «Мегалайн» на небольшой выборке клиентов и сделать вывод какой тариф лучше. В результате проделанной работы удалось выяснить следующее:

***Количество использованных минут***

* Тариф **"smart"**:
 * Медиана: 435 мин.;
 * Среднее значение: 429 мин.;
 * Стандартное отклонение : 195 мин.;
 * Дисперсия : 37975.
* Тариф **"ultra"**:
 * Медиана: 532 мин.;
 * Среднее значение: 541 мин.;
 * Стандартное отклонение : 326 мин.;
 * Дисперсия : 106106.
 
Пользователям тарифа **"smart"** очень часто не хватает включенных в тариф минут и им приходится оплачивать дополнительно минуты разговора сверх тарифного пакета.                 
Пользователям тарифа **"ultra"** всегда хватает включенных в пакет минут.

***Количество использованного интернет-трафика***

* Тариф **"smart"**:
 * Медиана: 16540 Мб;
 * Среднее значение: 16237 Мб;
 * Стандартное отклонение : 5880 Мб;
 * Дисперсия : 34571991.
* Тариф **"ultra"**:
 * Медиана: 19324 Мб;
 * Среднее значение: 19489 Мб;
 * Стандартное отклонение : 10097 Мб;
 * Дисперсия : 101951581.
 
Пользователям тарифа **"smart"** очень часто не хватает включенного в тариф интернет-трафика и им приходится  дополнительно покупать интрнет-трафик сверх тарифного пакета.                 
Пользователям тарифа **"ultra"** часто не хватает включенного в тариф интернет-трафика и им приходится  дополнительно покупать интрнет-трафик сверх тарифного пакета.

***Количество отправленных сообщений***

* Тариф **"smart"**:
 * Медиана: 28;
 * Среднее значение: 33;
 * Стандартное отклонение : 28;
 * Дисперсия : 797.
* Тариф **"ultra"**:
 * Медиана: 38;
 * Среднее значение: 49;
 * Стандартное отклонение : 48;
 * Дисперсия : 2285.
 
Пользователям тарифа **"smart"** часто не хватает включенных в тариф сообщение и им приходится оплачивать дополнительно отправленные сообщения сверх тарифного пакета.                 
Пользователям тарифа **"ultra"** всегда хватает включенных в пакет сообщений.

***Ежемесячные траты на услуги связи***

* Тариф **"smart"**:
 * Медиана: 1075 руб.;
 * Среднее значение: 1313 руб.;
 * Стандартное отклонение : 831 руб.;
 * Дисперсия : 690458.
* Тариф **"ultra"**:
 * Медиана: 1950 руб.;
 * Среднее значение: 2071 руб.;
 * Стандартное отклонение : 379 руб.;
 * Дисперсия : 143491.
 
Так как пользователям тарифа **"smart"** очень часто не хватает минут, интернет-трафика и сообщений включенных в тарифный пакет, то из-за этого в среднем ежемесячно они тратят на услуги связи 1313 рублей (медиана составляет 1075), что более, чем в два раза выше абоненской платы по этому тарифу.               
Пользователи тарифа **"ultra"** в среднем ежемесячно на услуги связи тратят 2071 рубль, что немногим больше их абоненской платы. Медиана же составляет вообще 1950 рублей, что равняется их абоненской плате. Это объясняется тем, что входящих в пакет минут, интернет-трафика и сообщений практически всегда им хватает. Дополнительно клиенты этого тарифа покупают только интернет-трафик. 

***Ежемесячная и годовая прибыль для компании***

Ежегодно компания "Мегалайн" зарабатыет на 500 клиентах 4 965 590 рублей:
 * Тариф **"smart"** приносит компании 2 925 590 рублей, что составляет 58.9% всей выручки. На дополнительных услугах компания по этому тарифу зарабатывает 1 699 640 рублей, что составляет 58.1% всей выручки по этому тарифу;
 * Тариф **"ultra"** приносит компании 2 040 000 рублей, что составляет 41.1% всей выручки. На дополнительных услугах компания по этому тарифу зарабатывает 119 250 рублей, что составляет 5.8% всей выручки по этому тарифу
 
Количество клиентов тарифов:
 * Тариф **"smart"**: 351 чел.;
 * Тариф **"ultra"**: 149 чел.
 
Средняя ежегодная прибыль компании с одного клиента:
 * Тариф **"smart"**: 8335 руб.;
 * Тариф **"ultra"**: 13691 руб.


  
**Среднестатистический клиент компании "Мегалайн"**

 * Среднестатистический клиент, использующий тариф **"smart"** в месяц израсходует 429 минут, 15.85 Гб интернет -трафика и отправляет 33 сообщения. Ежемесячно на услуги связи средне он тратит 1313 рублей.  
 * Среднестатистический клиент, использующий тариф **"ultra"** в месяц израсходует 541 минут, 19.03 Гб интернет-трафика и отправляет 49 сообщения. Ежемесячно на услуги связи средне он тратит 2071 рубль.  

**Какой тариф более выгоден для дальнейшей рекламы**  
Годовая выручка от тарифа **"smart"** больше, чем от тарифа **"ultra"** на 20%. Но клиентов, использующие тариф **"smart"**, более чем 2 раза больше, чем клиентов, использующие тариф **"ultra"**.  
Поэтому правильно сравнивать показатели средней ежегодной прибыли компании с одного клиента для обоих тарифов. И тут получается, что в среднем за год компания зарабатывает на одном клиенте, использующем тариф **"smart"**, 8335 рублей, а на одном клиенте, использующем тариф **"ultra"**, 13691 рублей.  
Получается, что 1 клиент, использующий тариф **"ultra"**, приносит за год компании денег столько же, сколько и 1.61 клиента, использующие тариф **"smart"**.  
**Рекламный бюджент стоит больше направить на тариф "ultra"**.


Также были проверены гипотезы о различии средней выручки пользователей тарифов «Ультра» и «Смарт» и о различии средней выручки пользователей из Москвы от выручки пользователей из других регионов. Получили следующие результаты:
 * Средняя выручка пользователей тарифов «Ультра» и «Смарт» различается (p-значение: 1.24e-233);
 * Средняя выручка пользователей из Москвы и пользователей из других регионов не отличается (p-значение: 0.56).